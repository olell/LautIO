<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <link rel="icon" href="/png/logo_256.png">
    <link rel="apple-touch-icon" href="/png/logo_256.png">
    <title>Home  Â·  LautIO</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='/css/main.css'> <!--TODO: Static Paths-->
    <link rel='stylesheet' type='text/css' media='screen' href='/css/bootstrap.min.css'> <!--TODO: Static Paths-->
    <script src='/js/main.js'></script> <!--TODO: Static Paths-->
</head>
<body style="padding-top: 5rem">

    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" style="padding: 0.5rem 1.5rem">
        <a class="navbar-brand ml-1" href="#">
            <img src="/svg/logo.svg" width=30 height=30 alt="LautIO Logo"> <!--TODO: Static Paths-->
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/html/about.html">About</a> <!-- TODO: Invalid Link -->
                </li>
            </ul>
        </div>
    </nav>


    <main role="main" class="container">
        <h1>Overview</h1>
        <hr>
        <div class="col col-md-6">
            <h3 class="mb-3">Amplifier</h3>
            <div class="card">
                <h5 class="card-header">Ch. A & B Amplifier
                    <button class="btn btn-primary float-end" data-bs-toggle="collapse" data-bs-target="#ampABCollapse" aria-controls="ampABCollapse" aria-expanded="true" aria-label="Toggle Amp AB Settings">
                        Show/Hide
                    </button><br class="mb-1">

                    <span class="badge rounded-pill bg-success" id="ampABRunningPill">Running</span>
                    <span class="badge rounded-pill bg-danger" id="ampABStandbyPill">Standby</span>
                    <span class="badge rounded-pill bg-dark ms-1" id="ampABMutePill">Muted</span>
                </h5>
                <div class="collapse show" id="ampABCollapse">
                    <div class="card-body">
                        <h5 class="card-title">Amplifier quick settings</h5>
                        <div class="form-check form-switch mb-1">
                            <input class="form-check-input" type="checkbox" id="ampABStandbySwitch" checked>
                            <label class="form-check-label" for="ampABStandbySwitchLabel">Standby</label>
                        </div>
                        <div class="form-check form-switch mb-5">
                            <input class="form-check-input" type="checkbox" id="ampABMuteSwitch" checked disabled>
                            <label class="form-check-label" for="ampABMuteSwitchLabel">Mute</label>
                        </div>
                        <span>
                            (Change gain via jumper on board)
                        </span>
                    </div>
                </div>
            </div>
            <div class="card mt-3">
                <h5 class="card-header">Ch. C & D Amplifier
                    <button class="btn btn-primary float-end" data-bs-toggle="collapse" data-bs-target="#ampCDCollapse" aria-controls="ampCDCollapse" aria-expanded="true" aria-label="Toggle Amp AB Settings">
                        Show/Hide
                    </button><br class="mb-1">

                    <span class="badge rounded-pill bg-success" id="ampCDRunningPill">Running</span>
                    <span class="badge rounded-pill bg-danger" id="ampCDStandbyPill">Standby</span>
                    <span class="badge rounded-pill bg-dark ms-1" id="ampCDMutePill">Muted</span>
                </h5>
                <div class="collapse show" id="ampCDCollapse">
                    <div class="card-body">
                        <h5 class="card-title">Amplifier quick settings</h5>
                        <div class="form-check form-switch mb-1">
                            <input class="form-check-input" type="checkbox" id="ampCDStandbySwitch" checked>
                            <label class="form-check-label" for="ampCDStandbySwitchLabel">Standby</label>
                        </div>
                        <div class="form-check form-switch mb-5">
                            <input class="form-check-input" type="checkbox" id="ampCDMuteSwitch" checked disabled>
                            <label class="form-check-label" for="ampCDMuteSwitchLabel">Mute</label>
                        </div>
                        (Change gain via jumper on board)
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <script src="/js/jquery.min.js"></script> <!--TODO: Static Paths-->
    <script src="/js/bootstrap.min.js"></script> <!--TODO: Static Paths-->

    <script>

        /* Amp Stuff */

        var amp_ab = {
            mute: true,
            standby: true
        };

        var amp_cd = {
            mute: true,
            standby: true
        };

        function set_mute_state(amp, state) {
            amp.mute = state;
            update_amp_pills();
        }

        function set_standby_state(amp, state) {
            amp.standby = state;
            update_amp_pills();
        }

        function update_amp_pills() {
            $("#ampABMutePill").toggle(amp_ab.mute);
            $("#ampCDMutePill").toggle(amp_cd.mute);

            $("#ampABStandbyPill").toggle(amp_ab.standby);
            $("#ampABRunningPill").toggle(!amp_ab.standby);

            $("#ampCDStandbyPill").toggle(amp_cd.standby);
            $("#ampCDRunningPill").toggle(!amp_cd.standby);
        }

        /* Amp AB Controls */

        $( "#ampABStandbySwitch" ).change(function () {
            set_standby_state(amp_ab, $("#ampABStandbySwitch").prop("checked"));
            $("#ampABMuteSwitch").prop("disabled", amp_ab.standby);
        });

        $( "#ampABMuteSwitch" ).change(function () {
            set_mute_state(amp_ab, $("#ampABMuteSwitch").prop("checked"));
            $("#ampABStandbySwitch").prop("disabled", !amp_ab.mute);
        });

        /* Amp CD Controls */

        $( "#ampCDStandbySwitch" ).change(function () {
            set_standby_state(amp_cd, $("#ampCDStandbySwitch").prop("checked"));
            $("#ampCDMuteSwitch").prop("disabled", amp_cd.standby);
        });

        $( "#ampCDMuteSwitch" ).change(function () {
            set_mute_state(amp_cd, $("#ampCDMuteSwitch").prop("checked"));
            $("#ampCDStandbySwitch").prop("disabled", !amp_cd.mute);
        });

        /* Common stuff */

        $( document ).ready(function () {
            update_amp_pills();
        });

    </script>

</body>
</html>